# 서버의 이해
## 01. IP와 도메인
- IP(인터넷 프로토콜): 수 많은 컴퓨터 중에서 특정 컴퓨터를 지정하기 위한 점으로 구분된 네 개의 숫자로 구성된 주소.
  - ex: 192.16.2.10
- 도메인: 사람이 IP를 읽고 활용하기 위해 지정한 이름.

## 02. 클라이언트와 서버
- 웹에 연결된 컴퓨터는 클라이언트와 서버라고 한다.
- 클라이언트: 일반적인 웹 사용자의 인터넷이 연결된 장치들과 이런 장치들에서 이용가능한 웹에 접근하는 소프트웨어
- 서버: 웹페이지, 사이트, 앱을 저장하는 컴퓨터.
  - 클라이언트의 장비가 웹페이지에 접근하길 원할 때, 서버로부터 클라이언트의 장치로 사용자의 웹 브라우저에서 보여지기 위한 웹페이지의 사본이 다운로드 된다.

- 서버와 클라이언트의 상호작용
  1. 브라우저가 DNS 서버로 가서 웹사이트가 있는 서버의 진짜 주소를 찾는다.
  2. 브라우저는 서버에게 웹사이트의 사본을 클라이언트에게 보내달라는 HTTP 요철 메시지를 서버로 전송.
    - 이는 TCP/IP 연결을 통해 전송
  3. 서버는 클라이언트의 요청을 승인. "200 OK" 메시지를 클라이언트에게 전송.
    - "200 OK"는 "물론이죠. 당신은 웹 사이트를 볼 수 있어요! 여기 있어요" 라는 의미.
  4. 서버는 웹사이트의 파일들을 데이터 패킷이라 불리는 작은 일련의 덩어리들로 브라우저에 전송하기 시작.
  5. 브라우저는 이 작은 덩어리들을 완전한 웹 사이트로 조립하고 사용자에게 보여준다.

- DNS: Domain Name System Servers(도메인 이름 시스템 서버) 웹사이트를 위한 주소록.
- HTTP: Hypertext Transfer Protocol(하이퍼텍스트 전송 규약) 클라이언트와 서버가 서로 통신할 수 있게 하기 위한 언어를 정의하는 어플리케이션 규약.
- TCP/IP: Transmission Control Protocol(전송 제어 규약), Internet Protocol(인터넷 규약) 데이터가 어떻게 웹을 건너 여행해야 하는지 정의하는 통신 규약.(운송수단)
- 패킷: 데이터가 웹을 거쳐서 전송될 때, 수천개의 작은 덩어리들로 전송. 그래서 다양한 웹 사용자들은 동시에 같은 웹사이트를 다운로드 가능.

## 03. 정적 웹사이트와 동적 웹사이트의 차이점 / Django의 역할
- 정적 웹사이트
  - 있는 그대로 제공되는 것
  - 요청이 들어올 때 서버에서 하드 코딩된 동일한 콘텐츠를 반환.
  - 사용자가 페이지를 탐색하거나, 브라우저가 지정된 URL에 HTTP "GET"요청을 보내면 서버는 파일 시스템에서 요청한 문서를 검색하고 문서와 success status(200 OK)를 포함한  HTTP응답을 반환.
  - 파일을 검색하면 error status 반환.
  ![정적웹사이트](./basic_static_app_server.png)
- 동적 웹사이트
  - 서버가 컨텐츠를 처리하는 것. 심지어는 컨텐츠를 데이터베이스로부터 생성.
  - 필요할 때에 동적으로 응답 콘텐츠 생성.
  - 동적 웹사이트의 웹페이지는 보통 HTML 템플릿에 있는 자리 표시자에 데이터베이스에서 가져온 데이터를 넣어 생성.
  - 동적 웹사이트를 지원하는 코드는 서버에서 실행.(server-side-programming/back-end-scripting)
  - 정적 리소스의 요청은 정적 사이트와 같은 방법으로 처리.
  - 동적 리소스
  ![동적웹사이트](./web_application_with_html_and_steps.png)
    1. 요청
    1. 서버측 코드에 전달.
    3. "동적 응답"을 위해 서버는 응답을 해석하여 필요한 정보를 데이터 베이스에서 읽음.
    4. 탐색한 데이터와 HTML 템플릿을 결합
    5. 생성된 HTML을 포함한 응답을 다시 보내줌.

- Django의 역할
  - 동적 웹사이트를 지원하는 코드를 작성하기 위해 web frameworks를 사용하는데 Django는 Python 언어를 사용하기 위한 프레임워크.
  - 웹 프레임워크: 일반적인 문제를 해결하고 개발 속도를 높이며 특정 도메인에서 직면하는 다양한 유형의 작업을 단순화하는 함수, 객체, 규칙 및 기타 코드 구성 요소의 모음.

## 04. HTTP / 요청과 응답 메시지 구성
- HTTP: HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 프로토콜.
- HTTP는 웹에서 이루어지는 모든 데이터 교환의 기초. 클라이언트-서버-프로토콜이기도 하다.

- 요청과 응답
  - 요청: 브라우저인 클라이어트에 의해 전송되는 메시지
  ![요청](./http_request.png)
    - Method: 보통 클라이언트가 수행하고자 하는 동작을 정의한 GET, POST, OPPTIONS HEAD 등.
    - Path: 가져오려는 리소스의 경로
    - HTTP 프로토콜 버전
    - 서버에 대한 추가 정보를 전달하는 선택적 헤더들.
  - 응답: 서버에서 응답으로 전송되는 메시지
  ![응답](./http_response.png)
    - HTTP 프로토콜 버전
    - 요청의 성공 여부와 그 이유를 나타내는 상태코드
    - 아무런 영향력이 없는 상태코드의 잛은 설명을 나태는 상태 메시지
    - 요청 헤더와 비슷한, HTTP 헤더들
    - 선택 사항으로 가져온 리소스가 포함되는 본문

## 05. 프레임 워크
- 서버측 웹 프레임워크는 작성하기 쉽고, 웹 어플리케이션을 유지 보수하기 쉽게 만드는 소프트웨어 프레임 워크.
- 웹 개발 작업을 단순화하는 도구와 라이브러리를 제공.

- 프레임 워크의 역할
  - HTTP 요청과 응답을 할 서버측 코드 작성 문법 단순화.
    ```python
    # Django view function
    from django.http import HttpResponse

    def index(request):
        # Get an HttpRequest (request)
        # perform operations using information from the request.
        # Return HttpResponse
        return HttpResponse('Output string to return')
    ```
  - 적절한 URL핸들러로 라우팅
    - 여러개의 다른 리소스를 특정 URL을 통해 접근 할 수 있도록 제공.
    ```py
    urlpatterns = [
        url(r'^$', views.index),
        # example: /best/myteamname/5/
        url(r'^(?P<team_name>\w.+?)/(?P<team_number>[0-9]+)/$', views.best),
    ]
    ```
  - 요청 데이터에 쉽게 접근
  - 데이터베이스와 상호작용
  - 데이터 렌더링
  - 유저 인증과 세션지원, 출력 형식, 웹 공격에 대처하기 위한 보안 강화 등