{% extends 'base.html' %}

{% block style %}
<!-- 부트스트랩 및 부트스트랩 Datepicker CSS 파일 추가 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
{% endblock style %}

{% block content %}
  <h2>할 일 생성</h2>
  <form action="{% url 'todos:create' %}" method=POST>
    {% csrf_token %}
    <div class="mb-3">
      <label for="title" class="form-label">할 일 제목</label>
      <input type="text" class="form-control" name="title" id="title">
    </div>
    <div class="mb-3">
      <label for="content" class="form-label">할 일 내용</label>
      <textarea class="form-control" name="content" id="content" cols="30" rows="10"></textarea>
    </div>
    <div class="mb-3">
      <label for="priority" class="form-label">우선순위</label>
      <select class="form-select" name="priority" id="priority">
        <option selected>선택</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
    </div>
    <div class="mb-3">
      <label for="datepicker" class="form-label">마감기한</label>
      <input type="text" class="form-control" style="padding:0px; height: fit-content;" name="deadline" id="datepicker" placeholder="날짜 입력">
    </div>
    <button type="submit" class="btn btn-primary">할 일 생성</button>
  </form>
{% endblock content %}

{% block script %}
  <!-- 부트스트랩 및 부트스트랩 Datepicker JavaScript 파일 추가 -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

  <script>
    // Datepicker 초기화
    $(function() {
      $('#datepicker').datepicker({
        format: "yyyy-mm-dd",
        language: 'ko', // 한국어 언어 설정
        autoclose: true, // 선택 시 자동으로 닫기
        todayHighlight: true // 오늘 날짜 강조 표시
      });
    });
    
    !function(a){
      a.fn.datepicker.dates.ko={
        days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],
        daysShort:["일","월","화","수","목","금","토"],daysMin:["일","월","화","수","목","금","토"],
        months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],
        monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]
      }
    }(jQuery);
  </script>
{% endblock script %}